/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.11.0";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]};mejs.Utility={encodeUrl:function(b){return encodeURIComponent(b)},escapeHTML:function(b){return b.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(d){var c=document.createElement("div");c.innerHTML='<a href="'+this.escapeHTML(d)+'">x</a>';return c.firstChild.href},getScriptPath:function(s){for(var r=0,q,p="",o="",m,n=document.getElementsByTagName("script"),k=n.length,j=s.length;r<k;r++){m=n[r].src;for(q=0;q<j;q++){o=s[q];if(m.indexOf(o)>-1){p=m.substring(0,m.indexOf(o));break}}if(p!==""){break}}return p},secondsToTimeCode:function(j,h,o,n){if(typeof o=="undefined"){o=false}else{if(typeof n=="undefined"){n=25}}var m=Math.floor(j/3600)%24,k=Math.floor(j/60)%60,l=Math.floor(j%60);j=Math.floor((j%1*n).toFixed(3));return(h||m>0?(m<10?"0"+m:m)+":":"")+(k<10?"0"+k:k)+":"+(l<10?"0"+l:l)+(o?":"+(j<10?"0"+j:j):"")},timeCodeToSeconds:function(k,j,q,p){if(typeof q=="undefined"){q=false}else{if(typeof p=="undefined"){p=25}}k=k.split(":");j=parseInt(k[0],10);var o=parseInt(k[1],10),m=parseInt(k[2],10),n=0,l=0;if(q){n=parseInt(k[3])/p}return l=j*3600+o*60+m+n},convertSMPTEtoSeconds:function(g){if(typeof g!="string"){return false}g=g.replace(",",".");var f=0,k=g.indexOf(".")!=-1?g.split(".")[1].length:0,j=1;g=g.split(":").reverse();for(var h=0;h<g.length;h++){j=1;if(h>0){j=Math.pow(60,h)}f+=Number(g[h])*j}return Number(f.toFixed(k))},removeSwf:function(d){var c=document.getElementById(d);if(c&&/object|embed/i.test(c.nodeName)){if(mejs.MediaFeatures.isIE){c.style.display="none";(function(){c.readyState==4?mejs.Utility.removeObjectInIE(d):setTimeout(arguments.callee,10)})()}else{c.parentNode.removeChild(c)}}},removeObjectInIE:function(d){if(d=document.getElementById(d)){for(var c in d){if(typeof d[c]=="function"){d[c]=null}}d.parentNode.removeChild(d)}}};mejs.PluginDetector={hasPluginVersion:function(e,d){var f=this.plugins[e];d[1]=d[1]||0;d[2]=d[2]||0;return f[0]>d[0]||f[0]==d[0]&&f[1]>d[1]||f[0]==d[0]&&f[1]==d[1]&&f[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(g,f,k,j,h){this.plugins[g]=this.detectPlugin(f,k,j,h)},detectPlugin:function(j,h,o,n){var m=[0,0,0],k;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[j]=="object"){if((o=this.nav.plugins[j].description)&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[h]&&!this.nav.mimeTypes[h].enabledPlugin)){m=o.replace(j,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(j=0;j<m.length;j++){m[j]=parseInt(m[j].match(/\d+/),10)}}}else{if(typeof window.ActiveXObject!="undefined"){try{if(k=new ActiveXObject(o)){m=n(k)}}catch(l){}}}return m}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(d){var c=[];if(d=d.GetVariable("$version")){d=d.split(" ")[1].split(",");c=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]}return c});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var d=[0,0,0,0],f=function(h,c,a,b){for(;h.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);){c[a]+=b}c[a]-=b};f(e,d,0,1);f(e,d,1,1);f(e,d,2,10000);f(e,d,2,1000);f(e,d,2,100);f(e,d,2,10);f(e,d,2,1);f(e,d,3,1);return d});mejs.MediaFeatures={init:function(){var h=this,f=document,m=mejs.PluginDetector.nav,l=mejs.PluginDetector.ua.toLowerCase(),k,j=["source","track","audio","video"];h.isiPad=l.match(/ipad/i)!==null;h.isiPhone=l.match(/iphone/i)!==null;h.isiOS=h.isiPhone||h.isiPad;h.isAndroid=l.match(/android/i)!==null;h.isBustedAndroid=l.match(/android 2\.[12]/)!==null;h.isIE=m.appName.toLowerCase().indexOf("microsoft")!=-1;h.isChrome=l.match(/chrome/gi)!==null;h.isFirefox=l.match(/firefox/gi)!==null;h.isWebkit=l.match(/webkit/gi)!==null;h.isGecko=l.match(/gecko/gi)!==null&&!h.isWebkit;h.isOpera=l.match(/opera/gi)!==null;h.hasTouch="ontouchstart" in window;h.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(m=0;m<j.length;m++){k=document.createElement(j[m])}h.supportsMediaTag=typeof k.canPlayType!=="undefined"||h.isBustedAndroid;h.hasSemiNativeFullScreen=typeof k.webkitEnterFullscreen!=="undefined";h.hasWebkitNativeFullScreen=typeof k.webkitRequestFullScreen!=="undefined";h.hasMozNativeFullScreen=typeof k.mozRequestFullScreen!=="undefined";h.hasTrueNativeFullScreen=h.hasWebkitNativeFullScreen||h.hasMozNativeFullScreen;h.nativeFullScreenEnabled=h.hasTrueNativeFullScreen;if(h.hasMozNativeFullScreen){h.nativeFullScreenEnabled=k.mozFullScreenEnabled}if(this.isChrome){h.hasSemiNativeFullScreen=false}if(h.hasTrueNativeFullScreen){h.fullScreenEventName=h.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";h.isFullScreen=function(){if(k.mozRequestFullScreen){return f.mozFullScreen}else{if(k.webkitRequestFullScreen){return f.webkitIsFullScreen}}};h.requestFullScreen=function(a){if(h.hasWebkitNativeFullScreen){a.webkitRequestFullScreen()}else{h.hasMozNativeFullScreen&&a.mozRequestFullScreen()}};h.cancelFullScreen=function(){if(h.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{h.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}}if(h.hasSemiNativeFullScreen&&l.match(/mac os x 10_5/i)){h.hasNativeFullScreen=false;h.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(b){this.currentTime=b},setMuted:function(b){this.muted=b},setVolume:function(b){this.volume=b},stop:function(){this.pause()},setSrc:function(e){for(var d=this.getElementsByTagName("source");d.length>0;){this.removeChild(d[0])}if(typeof e=="string"){this.src=e}else{var f;for(d=0;d<e.length;d++){f=e[d];if(this.canPlayType(f.type)){this.src=f.src;break}}}},setVideoSize:function(d,c){this.width=d;this.height=c}};mejs.PluginMediaElement=function(e,d,f){this.id=e;this.pluginType=d;this.src=f;this.events={};this.attributes={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(g){var f,k,j,h=mejs.plugins[this.pluginType];for(f=0;f<h.length;f++){j=h[f];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,j.version)){for(k=0;k<j.types.length;k++){if(g==j.types[k]){return"probably"}}}}return""},positionFullscreenButton:function(e,d,f){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,d,f)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if(typeof e=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e));this.src=mejs.Utility.absolutizeUrl(e)}else{var d,f;for(d=0;d<e.length;d++){f=e[d];if(this.canPlayType(f.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(f.src));this.src=mejs.Utility.absolutizeUrl(e);break}}}},setCurrentTime:function(b){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(b):this.pluginApi.setCurrentTime(b);this.currentTime=b}},setVolume:function(b){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(b*100):this.pluginApi.setVolume(b);this.volume=b}},setMuted:function(b){if(this.pluginApi!=null){if(this.pluginType=="youtube"){b?this.pluginApi.mute():this.pluginApi.unMute();this.muted=b;this.dispatchEvent("volumechange")}else{this.pluginApi.setMuted(b)}this.muted=b}},setVideoSize:function(d,c){if(this.pluginElement.style){this.pluginElement.style.width=d+"px";this.pluginElement.style.height=c+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(d,c)},setFullscreen:function(b){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(b)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(false)},addEventListener:function(d,c){this.events[d]=this.events[d]||[];this.events[d].push(c)},removeEventListener:function(e,d){if(!e){this.events={};return true}var f=this.events[e];if(!f){return true}if(!d){this.events[e]=[];return true}for(i=0;i<f.length;i++){if(f[i]===d){this.events[e].splice(i,1);return true}}return false},dispatchEvent:function(f){var e,h,g=this.events[f];if(g){h=Array.prototype.slice.call(arguments,1);for(e=0;e<g.length;e++){g[e].apply(null,h)}}},hasAttribute:function(b){return b in this.attributes},removeAttribute:function(b){delete this.attributes[b]},getAttribute:function(b){if(this.hasAttribute(b)){return this.attributes[b]}return""},setAttribute:function(d,c){this.attributes[d]=c},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,d,f){this.pluginMediaElements[e]=d;this.htmlMediaElements[e]=f},unregisterPluginElement:function(b){delete this.pluginMediaElements[b];delete this.htmlMediaElements[b]},initPlugin:function(e){var d=this.pluginMediaElements[e],f=this.htmlMediaElements[e];if(d){switch(d.pluginType){case"flash":d.pluginElement=d.pluginApi=document.getElementById(e);break;case"silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS}d.pluginApi!=null&&d.success&&d.success(d,f)}},fireEvent:function(g,f,k){var j,h;g=this.pluginMediaElements[g];f={type:f,target:g};for(j in k){g[j]=k[j];f[j]=k[j]}h=k.bufferedTime||0;f.target.buffered=f.buffered={start:function(){return 0},end:function(){return h},length:1};g.dispatchEvent(f.type,f)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(d,c){return mejs.HtmlMediaElementShim.create(d,c)};mejs.HtmlMediaElementShim={create:function(w,v){var u=mejs.MediaElementDefaults,t=typeof w=="string"?document.getElementById(w):w,s=t.tagName.toLowerCase(),q=s==="audio"||s==="video",r=q?t.getAttribute("src"):t.getAttribute("href");s=t.getAttribute("poster");var p=t.getAttribute("autoplay"),m=t.getAttribute("preload"),o=t.getAttribute("controls"),n;for(n in v){u[n]=v[n]}r=typeof r=="undefined"||r===null||r==""?null:r;s=typeof s=="undefined"||s===null?"":s;m=typeof m=="undefined"||m===null||m==="false"?"none":m;p=!(typeof p=="undefined"||p===null||p==="false");o=!(typeof o=="undefined"||o===null||o==="false");n=this.determinePlayback(t,u,mejs.MediaFeatures.supportsMediaTag,q,r);n.url=n.url!==null?mejs.Utility.absolutizeUrl(n.url):"";if(n.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){t.src=n.url;t.addEventListener("click",function(){t.play()},false)}return this.updateNative(n,u,p,m)}else{if(n.method!==""){return this.createPlugin(n,u,s,p,m,o)}else{this.createErrorMessage(n,u,s);return this}}},determinePlayback:function(w,v,u,t,s){var q=[],r,p,m,o={method:"",url:"",htmlMediaElement:w,isVideo:w.tagName.toLowerCase()!="audio"},n;if(typeof v.type!="undefined"&&v.type!==""){if(typeof v.type=="string"){q.push({type:v.type,url:s})}else{for(r=0;r<v.type.length;r++){q.push({type:v.type[r],url:s})}}}else{if(s!==null){m=this.formatType(s,w.getAttribute("type"));q.push({type:m,url:s})}else{for(r=0;r<w.childNodes.length;r++){p=w.childNodes[r];if(p.nodeType==1&&p.tagName.toLowerCase()=="source"){s=p.getAttribute("src");m=this.formatType(s,p.getAttribute("type"));p=p.getAttribute("media");if(!p||!window.matchMedia||window.matchMedia&&window.matchMedia(p).matches){q.push({type:m,url:s})}}}}}if(!t&&q.length>0&&q[0].url!==null&&this.getTypeFromFile(q[0].url).indexOf("audio")>-1){o.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){w.canPlayType=function(a){return a.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""}}if(u&&(v.mode==="auto"||v.mode==="auto_plugin"||v.mode==="native")){if(!t){r=document.createElement(o.isVideo?"video":"audio");w.parentNode.insertBefore(r,w);w.style.display="none";o.htmlMediaElement=w=r}for(r=0;r<q.length;r++){if(w.canPlayType(q[r].type).replace(/no/,"")!==""||w.canPlayType(q[r].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){o.method="native";o.url=q[r].url;break}}if(o.method==="native"){if(o.url!==null){w.src=o.url}if(v.mode!=="auto_plugin"){return o}}}if(v.mode==="auto"||v.mode==="auto_plugin"||v.mode==="shim"){for(r=0;r<q.length;r++){m=q[r].type;for(w=0;w<v.plugins.length;w++){s=v.plugins[w];p=mejs.plugins[s];for(u=0;u<p.length;u++){n=p[u];if(n.version==null||mejs.PluginDetector.hasPluginVersion(s,n.version)){for(t=0;t<n.types.length;t++){if(m==n.types[t]){o.method=s;o.url=q[r].url;return o}}}}}}}if(v.mode==="auto_plugin"&&o.method==="native"){return o}if(o.method===""&&q.length>0){o.url=q[0].url}return o},formatType:function(d,c){return d&&!c?this.getTypeFromFile(d):c&&~c.indexOf(";")?c.substr(0,c.indexOf(";")):c},getTypeFromFile:function(b){b=b.split("?")[0];b=b.substring(b.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+this.getTypeFromExtension(b)},getTypeFromExtension:function(b){switch(b){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return b}},createErrorMessage:function(h,f,m){var l=h.htmlMediaElement,k=document.createElement("div");k.className="me-cannotplay";try{k.style.width=l.width+"px";k.style.height=l.height+"px"}catch(j){}k.innerHTML=m!==""?'<a href="'+h.url+'"><img src="'+m+'" width="100%" height="100%" /></a>':'<a href="'+h.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>";l.parentNode.insertBefore(k,l);l.style.display="none";f.error(l)},createPlugin:function(A,z,y,x,w,u){y=A.htmlMediaElement;var v=1,t=1,q="me_"+A.method+"_"+mejs.meIndex++,s=new mejs.PluginMediaElement(q,A.method,A.url),r=document.createElement("div"),p;s.tagName=y.tagName;for(p=0;p<y.attributes.length;p++){var o=y.attributes[p];o.specified==true&&s.setAttribute(o.name,o.value)}for(p=y.parentNode;p!==null&&p.tagName.toLowerCase()!="body";){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(A.isVideo){v=z.videoWidth>0?z.videoWidth:y.getAttribute("width")!==null?y.getAttribute("width"):z.defaultVideoWidth;t=z.videoHeight>0?z.videoHeight:y.getAttribute("height")!==null?y.getAttribute("height"):z.defaultVideoHeight;v=mejs.Utility.encodeUrl(v);t=mejs.Utility.encodeUrl(t)}else{if(z.enablePluginDebug){v=320;t=240}}s.success=z.success;mejs.MediaPluginBridge.registerPluginElement(q,s,y);r.className="me-plugin";r.id=q+"_container";A.isVideo?y.parentNode.insertBefore(r,y):document.body.insertBefore(r,document.body.childNodes[0]);x=["id="+q,"isvideo="+(A.isVideo?"true":"false"),"autoplay="+(x?"true":"false"),"preload="+w,"width="+v,"startvolume="+z.startVolume,"timerrate="+z.timerRate,"flashstreamer="+z.flashStreamer,"height="+t];if(A.url!==null){A.method=="flash"?x.push("file="+mejs.Utility.encodeUrl(A.url)):x.push("file="+A.url)}z.enablePluginDebug&&x.push("debug=true");z.enablePluginSmoothing&&x.push("smoothing=true");u&&x.push("controls=true");if(z.pluginVars){x=x.concat(z.pluginVars)}switch(A.method){case"silverlight":r.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+q+'" name="'+q+'" width="'+v+'" height="'+t+'" class="mejs-shim"><param name="initParams" value="'+x.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+z.pluginPath+z.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){A=document.createElement("div");r.appendChild(A);A.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+q+'" width="'+v+'" height="'+t+'" class="mejs-shim"><param name="movie" value="'+z.pluginPath+z.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+x.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{r.innerHTML='<embed id="'+q+'" name="'+q+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+z.pluginPath+z.flashName+'" flashvars="'+x.join("&")+'" width="'+v+'" height="'+t+'" class="mejs-shim"></embed>'}break;case"youtube":z=A.url.substr(A.url.lastIndexOf("=")+1);youtubeSettings={container:r,containerId:r.id,pluginMediaElement:s,pluginId:q,videoId:z,height:t,width:v};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":s.vimeoid=A.url.substr(A.url.lastIndexOf("/")+1);r.innerHTML='<iframe src="http://player.vimeo.com/video/'+s.vimeoid+'?portrait=0&byline=0&title=0" width="'+v+'" height="'+t+'" frameborder="0" class="mejs-shim"></iframe>'}y.style.display="none";return s},updateNative:function(f,e){var h=f.htmlMediaElement,g;for(g in mejs.HtmlMediaElement){h[g]=mejs.HtmlMediaElement[g]}e.success(h,h);return h}};mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var d=document.createElement("script");d.src="http://www.youtube.com/player_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(d,c);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(b){if(this.isLoaded){this.createIframe(b)}else{this.loadIframeApi();this.iframeQueue.push(b)}},createIframe:function(e){var d=e.pluginMediaElement,f=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=f;mejs.MediaPluginBridge.initPlugin(e.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(f,d,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,f,d)}}})},createEvent:function(f,e,h){h={type:h,target:e};if(f&&f.getDuration){e.currentTime=h.currentTime=f.getCurrentTime();e.duration=h.duration=f.getDuration();h.paused=e.paused;h.ended=e.ended;h.muted=f.isMuted();h.volume=f.getVolume()/100;h.bytesTotal=f.getVideoBytesTotal();h.bufferedBytes=f.getVideoBytesLoaded();var g=h.bufferedBytes/h.bytesTotal*h.duration;h.target.buffered=h.buffered={start:function(){return 0},end:function(){return g},length:1}}e.dispatchEvent(h.type,h)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;){this.createIframe(this.iframeQueue.pop())}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var d,f="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){d=document.createElement("div");e.container.appendChild(d);d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+f+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+f+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'}},flashReady:function(f){var e=this.flashPlayers[f],h=document.getElementById(f),g=e.pluginMediaElement;g.pluginApi=g.pluginElement=h;mejs.MediaPluginBridge.initPlugin(f);h.cueVideoById(e.videoId);f=e.containerId+"_callback";window[f]=function(a){mejs.YouTubeApi.handleStateChange(a,h,g)};h.addEventListener("onStateChange",f);setInterval(function(){mejs.YouTubeApi.createEvent(h,g,"timeupdate")},250)},handleStateChange:function(e,d,f){switch(e){case -1:f.paused=true;f.ended=true;mejs.YouTubeApi.createEvent(d,f,"loadedmetadata");break;case 0:f.paused=false;f.ended=true;mejs.YouTubeApi.createEvent(d,f,"ended");break;case 1:f.paused=false;f.ended=false;mejs.YouTubeApi.createEvent(d,f,"play");mejs.YouTubeApi.createEvent(d,f,"playing");break;case 2:f.paused=true;f.ended=false;mejs.YouTubeApi.createEvent(d,f,"pause");break;case 3:mejs.YouTubeApi.createEvent(d,f,"progress")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(b){mejs.YouTubeApi.flashReady(b)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(f,e,h){var g={locale:{strings:{}},methods:{}};g.locale.getLanguage=function(){return{language:navigator.language}};g.locale.INIT_LANGUAGE=g.locale.getLanguage();g.methods.checkPlain=function(d){var b,c,a={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=String(d);for(b in a){if(a.hasOwnProperty(b)){c=RegExp(b,"g");d=d.replace(c,a[b])}}return d};g.methods.formatString=function(c,a){for(var b in a){switch(b.charAt(0)){case"@":a[b]=g.methods.checkPlain(a[b]);break;case"!":break;default:a[b]='<em class="placeholder">'+g.methods.checkPlain(a[b])+"</em>"}c=c.replace(b,a[b])}return c};g.methods.t=function(c,a,b){if(g.locale.strings&&g.locale.strings[b.context]&&g.locale.strings[b.context][c]){c=g.locale.strings[b.context][c]}if(a){c=g.methods.formatString(c,a)}return c};g.t=function(d,b,c){if(typeof d==="string"&&d.length>0){var a=g.locale.getLanguage();c=c||{context:a.language};return g.methods.t(d,b,c)}else{throw {name:"InvalidArgumentException",message:"First argument is either not a string or empty."}}};h.i18n=g})(jQuery,document,mejs);(function(b){b.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlie\u00dfen"}})(mejs.i18n.locale.strings);if(typeof jQuery!="undefined"){mejs.$=jQuery}else{if(typeof ender!="undefined"){mejs.$=ender}}(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(b){return(b.duration*0.05)},defaultSeekForwardInterval:function(b){return(b.duration*0.05)},audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,hideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(b,c){if(c.paused||c.ended){c.play()}else{c.pause()}}},{keys:[38],action:function(b,d){var c=Math.min(d.volume+0.1,1);d.setVolume(c)}},{keys:[40],action:function(b,d){var c=Math.max(d.volume-0.1,0);d.setVolume(c)}},{keys:[37,227],action:function(b,d){if(!isNaN(d.duration)&&d.duration>0){if(b.isVideo){b.showControls();b.startControlsTimer()}var c=Math.max(d.currentTime-b.options.defaultSeekBackwardInterval(d),0);d.setCurrentTime(c)}}},{keys:[39,228],action:function(b,d){if(!isNaN(d.duration)&&d.duration>0){if(b.isVideo){b.showControls();b.startControlsTimer()}var c=Math.min(d.currentTime+b.options.defaultSeekForwardInterval(d),d.duration);d.setCurrentTime(c)}}},{keys:[70],action:function(b,c){if(typeof b.enterFullScreen!="undefined"){if(b.isFullScreen){b.exitFullScreen()}else{b.enterFullScreen()}}}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(c,d){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(c,d)}var b=this;b.$media=b.$node=a(c);b.node=b.media=b.$media[0];if(typeof b.node.player!="undefined"){return b.node.player}else{b.node.player=b}if(typeof d=="undefined"){d=b.$node.data("mejsoptions")}b.options=a.extend({},mejs.MepDefaults,d);b.id="mep_"+mejs.mepIndex++;mejs.players[b.id]=b;b.init();return b};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var d=this,e=mejs.MediaFeatures,h=a.extend(true,{},d.options,{success:function(k,j){d.meReady(k,j)},error:function(j){d.handleError(j)}}),c=d.media.tagName.toLowerCase();d.isDynamic=(c!=="audio"&&c!=="video");if(d.isDynamic){d.isVideo=d.options.isVideo}else{d.isVideo=(c!=="audio"&&d.options.isVideo)}if((e.isiPad&&d.options.iPadUseNativeControls)||(e.isiPhone&&d.options.iPhoneUseNativeControls)){d.$media.attr("controls","controls");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else{if(e.isAndroid&&d.options.AndroidUseNativeControls){}else{d.$media.removeAttr("controls");d.container=a('<div id="'+d.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);d.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(d.isVideo?"mejs-video ":"mejs-audio "));if(e.isiOS){var g=d.$media.clone();d.container.find(".mejs-mediaelement").append(g);d.$media.remove();d.$node=d.$media=g;d.node=d.media=g[0]}else{d.container.find(".mejs-mediaelement").append(d.$media)}d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");var f=(d.isVideo?"video":"audio"),b=f.substring(0,1).toUpperCase()+f.substring(1);if(d.options[f+"Width"]>0||d.options[f+"Width"].toString().indexOf("%")>-1){d.width=d.options[f+"Width"]}else{if(d.media.style.width!==""&&d.media.style.width!==null){d.width=d.media.style.width}else{if(d.media.getAttribute("width")!==null){d.width=d.$media.attr("width")}else{d.width=d.options["default"+b+"Width"]}}}if(d.options[f+"Height"]>0||d.options[f+"Height"].toString().indexOf("%")>-1){d.height=d.options[f+"Height"]}else{if(d.media.style.height!==""&&d.media.style.height!==null){d.height=d.media.style.height}else{if(d.$media[0].getAttribute("height")!==null){d.height=d.$media.attr("height")}else{d.height=d.options["default"+b+"Height"]}}}d.setPlayerSize(d.width,d.height);h.pluginWidth=d.height;h.pluginHeight=d.width}}mejs.MediaElement(d.$media[0],h);d.container.trigger("controlsshown")},showControls:function(b){var c=this;b=typeof b=="undefined"||b;if(c.controlsAreVisible){return}if(b){c.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true;c.container.trigger("controlsshown")});c.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true})}else{c.controls.css("visibility","visible").css("display","block");c.container.find(".mejs-control").css("visibility","visible").css("display","block");c.controlsAreVisible=true;c.container.trigger("controlsshown")}c.setControlsSize()},hideControls:function(b){var c=this;b=typeof b=="undefined"||b;if(!c.controlsAreVisible){return}if(b){c.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block");c.controlsAreVisible=false;c.container.trigger("controlshidden")});c.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})}else{c.controls.css("visibility","hidden").css("display","block");c.container.find(".mejs-control").css("visibility","hidden").css("display","block");c.controlsAreVisible=false;c.container.trigger("controlshidden")}},controlsTimer:null,startControlsTimer:function(c){var b=this;c=typeof c!="undefined"?c:1500;b.killControlsTimer("start");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer("hide")},c)},killControlsTimer:function(c){var b=this;if(b.controlsTimer!==null){clearTimeout(b.controlsTimer);delete b.controlsTimer;b.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var b=this;b.killControlsTimer();b.hideControls(false);this.controlsEnabled=false},enableControls:function(){var b=this;b.showControls(false);b.controlsEnabled=true},meReady:function(c,f){var k=this,j=mejs.MediaFeatures,g=f.getAttribute("autoplay"),d=!(typeof g=="undefined"||g===null||g==="false"),b,l;if(k.created){return}else{k.created=true}k.media=c;k.domNode=f;if(!(j.isAndroid&&k.options.AndroidUseNativeControls)&&!(j.isiPad&&k.options.iPadUseNativeControls)&&!(j.isiPhone&&k.options.iPhoneUseNativeControls)){k.buildposter(k,k.controls,k.layers,k.media);k.buildkeyboard(k,k.controls,k.layers,k.media);k.buildoverlays(k,k.controls,k.layers,k.media);for(b in k.options.features){l=k.options.features[b];if(k["build"+l]){try{k["build"+l](k,k.controls,k.layers,k.media)}catch(h){}}}k.container.trigger("controlsready");k.setPlayerSize(k.width,k.height);k.setControlsSize();if(k.isVideo){if(mejs.MediaFeatures.hasTouch){k.$media.bind("touchstart",function(){if(k.controlsAreVisible){k.hideControls(false)}else{if(k.controlsEnabled){k.showControls(false)}}})}else{k.media.addEventListener("click",function(){if(k.options.clickToPlayPause){if(k.media.paused){k.media.play()}else{k.media.pause()}}});k.container.bind("mouseenter mouseover",function(){if(k.controlsEnabled){if(!k.options.alwaysShowControls){k.killControlsTimer("enter");k.showControls();k.startControlsTimer(2500)}}}).bind("mousemove",function(){if(k.controlsEnabled){if(!k.controlsAreVisible){k.showControls()}if(!k.options.alwaysShowControls){k.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(k.controlsEnabled){if(!k.media.paused&&!k.options.alwaysShowControls){k.startControlsTimer(1000)}}})}if(k.options.hideVideoControlsOnLoad){k.hideControls(false)}if(d&&!k.options.alwaysShowControls){k.hideControls()}if(k.options.enableAutosize){k.media.addEventListener("loadedmetadata",function(m){if(k.options.videoHeight<=0&&k.domNode.getAttribute("height")===null&&!isNaN(m.target.videoHeight)){k.setPlayerSize(m.target.videoWidth,m.target.videoHeight);k.setControlsSize();k.media.setVideoSize(m.target.videoWidth,m.target.videoHeight)}},false)}}c.addEventListener("play",function(){var e;for(e in mejs.players){var m=mejs.players[e];if(m.id!=k.id&&k.options.pauseOtherPlayers&&!m.paused&&!m.ended){m.pause()}m.hasFocus=false}k.hasFocus=true},false);k.media.addEventListener("ended",function(m){if(k.options.autoRewind){try{k.media.setCurrentTime(0)}catch(n){}}k.media.pause();if(k.setProgressRail){k.setProgressRail()}if(k.setCurrentRail){k.setCurrentRail()}if(k.options.loop){k.media.play()}else{if(!k.options.alwaysShowControls&&k.controlsEnabled){k.showControls()}}},false);k.media.addEventListener("loadedmetadata",function(m){if(k.updateDuration){k.updateDuration()}if(k.updateCurrent){k.updateCurrent()}if(!k.isFullScreen){k.setPlayerSize(k.width,k.height);k.setControlsSize()}},false);setTimeout(function(){k.setPlayerSize(k.width,k.height);k.setControlsSize()},50);k.globalBind("resize",function(){if(!(k.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){k.setPlayerSize(k.width,k.height)}k.setControlsSize()});if(k.media.pluginType=="youtube"){k.container.find(".mejs-overlay-play").hide()}}if(d&&c.pluginType=="native"){c.load();c.play()}if(k.options.success){if(typeof k.options.success=="string"){window[k.options.success](k.media,k.domNode,k)}else{k.options.success(k.media,k.domNode,k)}}},handleError:function(c){var b=this;b.controls.hide();if(b.options.error){b.options.error(c)}},setPlayerSize:function(g,b){var e=this;if(typeof g!="undefined"){e.width=g}if(typeof b!="undefined"){e.height=b}if(e.height.toString().indexOf("%")>0||e.$node.css("max-width")==="100%"||(e.$node[0].currentStyle&&e.$node[0].currentStyle.maxWidth==="100%")){var h=e.isVideo?((e.media.videoWidth&&e.media.videoWidth>0)?e.media.videoWidth:e.options.defaultVideoWidth):e.options.defaultAudioWidth,d=e.isVideo?((e.media.videoHeight&&e.media.videoHeight>0)?e.media.videoHeight:e.options.defaultVideoHeight):e.options.defaultAudioHeight,f=e.container.parent().closest(":visible").width(),c=e.isVideo||!e.options.autosizeProgress?parseInt(f*d/h,10):d;if(e.container.parent()[0].tagName.toLowerCase()==="body"){f=a(window).width();c=a(window).height()}if(c!=0&&f!=0){e.container.width(f).height(c);e.$media.add(e.container.find(".mejs-shim")).width("100%").height("100%");if(e.isVideo){if(e.media.setVideoSize){e.media.setVideoSize(f,c)}}}}else{e.container.width(e.width).height(e.height);e.layers.children(".mejs-layer").width(e.width).height(e.height)}},setControlsSize:function(){var c=this,g=0,j=0,h=c.controls.find(".mejs-time-rail"),e=c.controls.find(".mejs-time-total"),f=c.controls.find(".mejs-time-current"),b=c.controls.find(".mejs-time-loaded"),d=h.siblings();if(c.options&&!c.options.autosizeProgress){j=parseInt(h.css("width"))}if(j===0||!j){d.each(function(){var k=a(this);if(k.css("position")!="absolute"&&k.is(":visible")){g+=a(this).outerWidth(true)}});j=c.controls.width()-g-(h.outerWidth(true)-h.width())}h.width(j);e.width(j-(e.outerWidth(true)-e.width()));if(c.setProgressRail){c.setProgressRail()}if(c.setCurrentRail){c.setCurrentRail()}},buildposter:function(e,b,g,f){var d=this,h=a('<div class="mejs-poster mejs-layer"></div>').appendTo(g),c=e.$media.attr("poster");if(e.options.poster!==""){c=e.options.poster}if(c!==""&&c!=null){d.setPoster(c)}else{h.hide()}f.addEventListener("play",function(){h.hide()},false)},setPoster:function(c){var d=this,e=d.container.find(".mejs-poster"),b=e.find("img");if(b.length==0){b=a('<img width="100%" height="100%" />').appendTo(e)}b.attr("src",c)},buildoverlays:function(f,b,h,g){var e=this;if(!f.isVideo){return}var j=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(h),c=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(h),d=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="play-video"></div></div>').appendTo(h).click(function(){if(e.options.clickToPlayPause){if(g.paused){g.play()}else{g.pause()}}});g.addEventListener("play",function(){d.hide();j.hide();b.find(".mejs-time-buffering").hide();c.hide()},false);g.addEventListener("playing",function(){d.hide();j.hide();b.find(".mejs-time-buffering").hide();c.hide()},false);g.addEventListener("seeking",function(){j.show();b.find(".mejs-time-buffering").show()},false);g.addEventListener("seeked",function(){j.hide();b.find(".mejs-time-buffering").hide()},false);g.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){d.show()}},false);g.addEventListener("waiting",function(){j.show();b.find(".mejs-time-buffering").show()},false);g.addEventListener("loadeddata",function(){j.show();b.find(".mejs-time-buffering").show()},false);g.addEventListener("canplay",function(){j.hide();b.find(".mejs-time-buffering").hide()},false);g.addEventListener("error",function(){j.hide();b.find(".mejs-time-buffering").hide();c.show();c.find("mejs-overlay-error").html("Error loading this resource")},false)},buildkeyboard:function(d,b,f,e){var c=this;c.globalBind("keydown",function(n){if(d.hasFocus&&d.options.enableKeyboard){for(var m=0,g=d.options.keyActions.length;m<g;m++){var l=d.options.keyActions[m];for(var h=0,k=l.keys.length;h<k;h++){if(n.keyCode==l.keys[h]){n.preventDefault();l.action(d,e,n.keyCode);return false}}}}return true});c.globalBind("click",function(g){if(a(g.target).closest(".mejs-container").length==0){d.hasFocus=false}})},changeSkin:function(b){this.container[0].className="mejs-container "+b;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(b){this.media.setMuted(b)},setCurrentTime:function(b){this.media.setCurrentTime(b)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(b){this.media.setVolume(b)},getVolume:function(){return this.media.volume},setSrc:function(b){this.media.setSrc(b)},remove:function(){var c=this,f,b;for(f in c.options.features){b=c.options.features[f];if(c["clean"+b]){try{c["clean"+b](c)}catch(d){}}}if(c.media.pluginType==="native"){c.$media.prop("controls",true)}else{c.media.remove()}if(!c.isDynamic){if(c.media.pluginType==="native"){}c.$node.insertBefore(c.container)}mejs.players.splice(a.inArray(c,mejs.players),1);c.container.remove();c.globalUnbind();delete c.node.player;delete mejs.players[c.id]}};(function(){var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;function b(e,f){var d={d:[],w:[]};a.each((e||"").split(" "),function(h,g){d[c.test(g)?"w":"d"].push(g+"."+f)});d.d=d.d.join(" ");d.w=d.w.join(" ");return d}mejs.MediaElementPlayer.prototype.globalBind=function(e,f,g){var d=this;e=b(e,d.id);if(e.d){a(document).bind(e.d,f,g)}if(e.w){a(window).bind(e.w,f,g)}};mejs.MediaElementPlayer.prototype.globalUnbind=function(e,f){var d=this;e=b(e,d.id);if(e.d){a(document).unbind(e.d,f)}if(e.w){a(window).unbind(e.w,f)}}})();if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(b){if(b===false){this.each(function(){var c=jQuery(this).data("mediaelementplayer");if(c){c.remove()}jQuery(this).removeData("mediaelementplayer")})}else{this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,b))})}return this}}a(document).ready(function(){a(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});a.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,b,g,f){var c=this,e=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+c.id+'" title="'+c.options.playpauseText+'"></button></div>').appendTo(b).click(function(h){h.preventDefault();if(f.paused){f.play()}else{f.pause()}return false});f.addEventListener("play",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("playing",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("pause",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false);f.addEventListener("paused",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"});a.extend(MediaElementPlayer.prototype,{buildstop:function(e,b,g,f){var d=this,c=a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+'"></button></div>').appendTo(b).click(function(){if(!f.paused){f.pause()}if(f.currentTime>0){f.setCurrentTime(0);f.pause();b.find(".mejs-time-current").width("0px");b.find(".mejs-time-handle").css("left","0px");b.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));b.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));g.find(".mejs-poster").show()}})}})})(mejs.$);(function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(n,o,f,c){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(o);o.find(".mejs-time-buffering").hide();var p=this,l=o.find(".mejs-time-total"),g=o.find(".mejs-time-loaded"),k=o.find(".mejs-time-current"),j=o.find(".mejs-time-handle"),m=o.find(".mejs-time-float"),b=o.find(".mejs-time-float-current"),e=function(u){var q=u.pageX,v=l.offset(),s=l.outerWidth(true),r=0,t=0,w=0;if(c.duration){if(q<v.left){q=v.left}else{if(q>s+v.left){q=s+v.left}}w=q-v.left;r=(w/s);t=(r<=0.02)?0:r*c.duration;if(h&&t!==c.currentTime){c.setCurrentTime(t)}if(!mejs.MediaFeatures.hasTouch){m.css("left",w);b.html(mejs.Utility.secondsToTimeCode(t));m.show()}}},h=false,d=false;l.bind("mousedown",function(q){if(q.which===1){h=true;e(q);p.globalBind("mousemove.dur",function(r){e(r)});p.globalBind("mouseup.dur",function(r){h=false;m.hide();p.globalUnbind(".dur")});return false}}).bind("mouseenter",function(q){d=true;p.globalBind("mousemove.dur",function(r){e(r)});if(!mejs.MediaFeatures.hasTouch){m.show()}}).bind("mouseleave",function(q){d=false;if(!h){p.globalUnbind(".dur");m.hide()}});c.addEventListener("progress",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);c.addEventListener("timeupdate",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);p.loaded=g;p.total=l;p.current=k;p.handle=j},setProgressRail:function(f){var b=this,d=(f!=undefined)?f.target:b.media,c=null;if(d&&d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration){c=d.buffered.end(0)/d.duration}else{if(d&&d.bytesTotal!=undefined&&d.bytesTotal>0&&d.bufferedBytes!=undefined){c=d.bufferedBytes/d.bytesTotal}else{if(f&&f.lengthComputable&&f.total!=0){c=f.loaded/f.total}}}if(c!==null){c=Math.min(1,Math.max(0,c));if(b.loaded&&b.total){b.loaded.width(b.total.width()*c)}}},setCurrentRail:function(){var b=this;if(b.media.currentTime!=undefined&&b.media.duration){if(b.total&&b.handle){var d=Math.round(b.total.width()*b.media.currentTime/b.media.duration),c=d-Math.round(b.handle.outerWidth(true)/2);b.current.width(d);b.handle.css("left",c)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});a.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,b,f,e){var c=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(b);c.currenttime=c.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,b,f,e){var c=this;if(b.children().last().find(".mejs-currenttime").length>0){a(c.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span>").appendTo(b.find(".mejs-time"))}else{b.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span></div>").appendTo(b)}c.durationD=c.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){d.updateDuration()},false)},updateCurrent:function(){var b=this;if(b.currenttime){b.currenttime.html(mejs.Utility.secondsToTimeCode(b.media.currentTime,b.options.alwaysShowHours||b.media.duration>3600,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}},updateDuration:function(){var b=this;b.container.toggleClass("mejs-long-video",b.media.duration>3600);if(b.durationD&&(b.options.duration>0||b.media.duration)){b.durationD.html(mejs.Utility.secondsToTimeCode(b.options.duration>0?b.options.duration:b.media.duration,b.options.alwaysShowHours,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});a.extend(MediaElementPlayer.prototype,{buildvolume:function(n,o,j,d){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices){return}var p=this,l=(p.isVideo)?p.options.videoVolume:p.options.audioVolume,f=(l=="horizontal")?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+p.id+'" title="'+p.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(o):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+p.id+'" title="'+p.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(o),q=p.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),b=p.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),h=p.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),g=p.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(w,x){if(!q.is(":visible")&&typeof x=="undefined"){q.show();m(w,true);q.hide();return}w=Math.max(0,w);w=Math.min(w,1);if(w==0){f.removeClass("mejs-mute").addClass("mejs-unmute")}else{f.removeClass("mejs-unmute").addClass("mejs-mute")}if(l=="vertical"){var u=b.height(),t=b.position(),s=u-(u*w);g.css("top",Math.round(t.top+s-(g.height()/2)));h.height(u-s);h.css("top",t.top+s)}else{var r=b.width(),t=b.position(),v=r*w;g.css("left",Math.round(t.left+v-(g.width()/2)));h.width(Math.round(v))}},c=function(w){var u=null,s=b.offset();if(l=="vertical"){var t=b.height(),r=parseInt(b.css("top").replace(/px/,""),10),v=w.pageY-s.top;u=(t-v)/t;if(s.top==0||s.left==0){return}}else{var y=b.width(),x=w.pageX-s.left;u=x/y}u=Math.max(0,u);u=Math.min(u,1);m(u);if(u==0){d.setMuted(true)}else{d.setMuted(false)}d.setVolume(u)},k=false,e=false;f.hover(function(){q.show();e=true},function(){e=false;if(!k&&l=="vertical"){q.hide()}});q.bind("mouseover",function(){e=true}).bind("mousedown",function(r){c(r);p.globalBind("mousemove.vol",function(s){c(s)});p.globalBind("mouseup.vol",function(){k=false;p.globalUnbind(".vol");if(!e&&l=="vertical"){q.hide()}});k=true;return false});f.find("button").click(function(){d.setMuted(!d.muted)});d.addEventListener("volumechange",function(r){if(!k){if(d.muted){m(0);f.removeClass("mejs-mute").addClass("mejs-unmute")}else{m(d.volume);f.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);if(p.container.is(":visible")){m(n.options.startVolume);if(n.options.startVolume===0){d.setMuted(true)}if(d.pluginType==="native"){d.setVolume(n.options.startVolume)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")});a.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(r,q,h,g){if(!r.isVideo){return}r.isInIframe=(window.location!=window.parent.location);if(mejs.MediaFeatures.hasTrueNativeFullScreen){var f=function(t){if(mejs.MediaFeatures.isFullScreen()){r.isNativeFullScreen=true;r.setControlsSize()}else{r.isNativeFullScreen=false;r.exitFullScreen()}};if(mejs.MediaFeatures.hasMozNativeFullScreen){r.globalBind(mejs.MediaFeatures.fullScreenEventName,f)}else{r.container.bind(mejs.MediaFeatures.fullScreenEventName,f)}}var p=this,e=0,c=0,o=r.container,b=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+p.id+'" title="'+p.options.fullscreenText+'"></button></div>').appendTo(q);if(p.media.pluginType==="native"||(!p.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)){b.click(function(){var t=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||r.isFullScreen;if(t){r.exitFullScreen()}else{r.enterFullScreen()}})}else{var n=null,j=(function(){var v=document.createElement("x"),w=document.documentElement,x=window.getComputedStyle,t;if(!("pointerEvents" in v.style)){return false}v.style.pointerEvents="auto";v.style.pointerEvents="x";w.appendChild(v);t=x&&x(v,"").pointerEvents==="auto";w.removeChild(v);return !!t})();if(j&&!mejs.MediaFeatures.isOpera){var m=false,s=function(){if(m){k.hide();d.hide();l.hide();b.css("pointer-events","");p.controls.css("pointer-events","");m=false}},k=a('<div class="mejs-fullscreen-hover" />').appendTo(p.container).mouseover(s),d=a('<div class="mejs-fullscreen-hover"  />').appendTo(p.container).mouseover(s),l=a('<div class="mejs-fullscreen-hover"  />').appendTo(p.container).mouseover(s),u=function(){var v={position:"absolute",top:0,left:0};k.css(v);d.css(v);l.css(v);k.width(p.container.width()).height(p.container.height()-p.controls.height());var t=b.offset().left-p.container.offset().left;fullScreenBtnWidth=b.outerWidth(true);d.width(t).height(p.controls.height()).css({top:p.container.height()-p.controls.height()});l.width(p.container.width()-t-fullScreenBtnWidth).height(p.controls.height()).css({top:p.container.height()-p.controls.height(),left:t+fullScreenBtnWidth})};p.globalBind("resize",function(){u()});b.mouseover(function(){if(!p.isFullScreen){var t=b.offset(),v=r.container.offset();g.positionFullscreenButton(t.left-v.left,t.top-v.top,false);b.css("pointer-events","none");p.controls.css("pointer-events","none");k.show();l.show();d.show();u();m=true}});g.addEventListener("fullscreenchange",function(t){s()})}else{b.mouseover(function(){if(n!==null){clearTimeout(n);delete n}var t=b.offset(),v=r.container.offset();g.positionFullscreenButton(t.left-v.left,t.top-v.top,true)}).mouseout(function(){if(n!==null){clearTimeout(n);delete n}n=setTimeout(function(){g.hideFullscreenButton()},1500)})}}r.fullscreenBtn=b;p.globalBind("keydown",function(t){if(((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||p.isFullScreen)&&t.keyCode==27){r.exitFullScreen()}})},cleanfullscreen:function(b){b.exitFullScreen()},enterFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||c.options.usePluginFullScreen)){return}docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=c.container.height();normalWidth=c.container.width();if(c.media.pluginType==="native"){if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(c.container[0]);if(c.isInIframe){setTimeout(function d(){if(c.isNativeFullScreen){if(a(window).width()!==screen.width){c.exitFullScreen()}else{setTimeout(d,500)}}},500)}}else{if(mejs.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}}}if(c.isInIframe){var b=c.options.newWindowCallback(this);if(b!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!c.isNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){c.container.css({width:"100%",height:"100%"});c.setControlsSize()},500);if(c.pluginType==="native"){c.$media.width("100%").height("100%")}else{c.container.find(".mejs-shim").width("100%").height("100%");c.media.setVideoSize(a(window).width(),a(window).height())}c.layers.children("div").width("100%").height("100%");if(c.fullscreenBtn){c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}c.setControlsSize();c.isFullScreen=true},exitFullScreen:function(){var b=this;if(b.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){b.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}document.documentElement.style.overflow=docStyleOverflow;b.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(b.pluginType==="native"){b.$media.width(normalWidth).height(normalHeight)}else{b.container.find("object embed").width(normalWidth).height(normalHeight);b.media.setVideoSize(normalWidth,normalHeight)}b.layers.children("div").width(normalWidth).height(normalHeight);b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");b.setControlsSize();b.isFullScreen=false}})})(mejs.$);jQuery(document).ready(function(b){var e=b("#video-wrap").length;var d=b("#audio-wrap").length;if(e&&d){var f=b("#audio-wrap").children("img").attr("src");b("#media-wrap").prepend('<div id="control-wrap"><img src="'+f+'"><div class="mejs-overlay-play"><div class="play-video-button"></div><div class="play-audio-button"></div></div></div>');b("#audio-wrap, #video-wrap").prepend('<span class="return"></span>')}if(e){b("video").mediaelementplayer({videoWidth:"100%",videoHeight:"100%",alwaysShowControls:true,videoVolume:"horizontal",success:function(h){var g=b(".play-video-button");g.click(function(){if(h.paused){h.play();g.hide();b("#control-wrap, #audio-wrap").hide();b("#video-wrap").children(".return").show();b("#video-wrap").css({position:"relative"}).show()}else{h.pause();g.show()}});h.addEventListener("play",function(){g.hide()},false);h.addEventListener("pause",function(){g.show()},false);b(".return").click(function(){b(this).hide().parent().css({position:"absolute"});h.pause();g.show();b("#control-wrap").show()})},error:function(){var g=b("video").children("source").attr("src");b(".play-video-button").replaceWith("<a href='"+g+"' class='play-video-button'></a>")}})}if(d){if(b.browser.msie&&b.browser.version==10){var a=b("audio").attr("src");b(".play-audio-button").replaceWith("<a href='"+a+"' class='play-audio-button'></a>")}b("#audio-wrap").prepend('<div class="mejs-overlay-play"><div class="play-audio-button"></div></div>');b("audio").mediaelementplayer({audioWidth:"100%",success:function(h){var g=b(".play-audio-button");g.click(function(){if(h.paused){h.play();g.hide();b("#control-wrap, #video-wrap").hide();b("#audio-wrap").children(".return").show();b("#audio-wrap").css({position:"relative"}).show()}else{h.pause();g.show()}});b(".poster").click(function(){if(h.paused){h.play();g.hide()}else{h.pause();g.show()}});h.addEventListener("play",function(){g.hide()},false);h.addEventListener("pause",function(){g.show()},false);b(".return").click(function(){b(this).hide().parent().css({position:"absolute"});h.pause();g.show();b("#control-wrap").show()})},error:function(){var g=b("audio").attr("src");b(".play-audio-button").replaceWith("<a href='"+g+"' class='play-audio-button'></a>")}})}var c=b("video").children("source").attr("type")});